<!--pages/myCollection/myCollection.wxml-->
<view class="container">
  <custom-nav-bar title="我的收藏" showBack="true" />

  <view style="padding-top: 88rpx;">
    <!-- 页面标题 -->
    <view class="page-header">
      <text class="page-title">我的收藏</text>
    </view>

    <!-- 加载状态 -->
    <view wx:if="{{loading}}" class="loading-container">
      <loading />
      <text>加载中...</text>
    </view>

    <!-- 空状态 -->
    <view wx:elif="{{collections.length === 0 && !loading}}" class="empty-container">
      <image class="empty-icon" src="/static/assets/icons/empty-collection.png" mode="aspectFit"></image>
      <text class="empty-text">暂无收藏商品</text>
    </view>

    <!-- 商品列表 -->
    <view wx:else class="goods-list">
      <block wx:for="{{collections}}" wx:key="productId">
        <view class="goods-item" bindtap="onGoodsTap" data-id="{{item.productId}}">
          <!-- 商品图片 -->
          <image class="goods-image"
                 src="{{item.image || item.images[0] || '/static/assets/icons/default-product.png'}}"
                 mode="aspectFill"></image>

          <!-- 商品信息 -->
          <view class="goods-info">
            <text class="goods-title">{{item.title}}</text>
            <text class="goods-price">¥{{item.price}}</text>
            <view class="goods-meta">
              <text class="goods-condition">{{item.condition}}</text>
              <text class="goods-favorite-count">{{item.favoriteCount || 0}}人收藏</text>
            </view>
          </view>
        </view>
      </block>
    </view>
  </view>
</view>
