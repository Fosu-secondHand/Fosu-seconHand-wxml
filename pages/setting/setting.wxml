<view class="container">
  <custom-nav-bar title="设置" showBack="true" />
  
  <view style="padding-top: 88rpx;">
    <!-- 头像编辑 -->
    <view class="avatar-section" bindtap="openAvatarEditModal">
      <image class="avatar" src="{{avatarUrl}}" mode="aspectFill"></image>
      <view class="edit-icon">
        <image src="/static/assets/icons/edit.png" mode="aspectFit"></image>
      </view>
    </view>

    <!-- 用户信息列表 -->
    <view class="info-list">
      <!-- 昵称 -->
      <view class="info-item" bindtap="openNicknameEdit">
        <view class="info-label">昵称</view>
        <view class="info-content">
          <text>{{nickname}}</text>
          <image class="arrow-icon" src="/static/assets/icons/arrowright.png" mode="aspectFit"></image>
        </view>
      </view>

      <!-- 账号 -->
      <view class="info-item">
        <view class="info-label">账号</view>
        <view class="info-content">
          <text>{{accountNumber}}</text>
        </view>
      </view>

      <!-- 简介 -->
      <view class="info-item" bindtap="openIntroEdit">
        <view class="info-label">简介</view>
        <view class="info-content">
          <text>{{intro || '未设置简介'}}</text>
          <image class="arrow-icon" src="/static/assets/icons/arrowright.png" mode="aspectFit"></image>
        </view>
      </view>

      <!-- 手机绑定 -->
      <view class="info-item" bindtap="openBindPhone">
        <view class="info-label">手机绑定</view>
        <view class="info-content">
          <text>{{phone || '未绑定手机'}}</text>
          <image class="arrow-icon" src="/static/assets/icons/arrowright.png" mode="aspectFit"></image>
        </view>
      </view>
    </view>

    <!-- 通知设置 -->
    <view class="section-title">通知设置</view>
    <view class="info-list">
      <view class="info-item">
        <view class="info-label">接收通知</view>
        <view class="info-content">
          <switch checked="{{notificationEnabled}}" bindchange="toggleNotification" color="#07c160"/>
        </view>
      </view>
    </view>
  </view>

  <!-- 只有已登录用户才显示退出登录按钮 -->
  <view wx:if="{{isLogin}}" class="logout-btn" bindtap="handleLogout">退出登录</view>

  <!-- 弹窗部分保持不变 -->
  <!-- 头像编辑弹窗 -->
  <view class="modal" wx:if="{{isAvatarEditModalShow}}">
    <!-- ... 弹窗内容 ... -->
  </view>

  <!-- 昵称编辑弹窗 -->
  <view class="modal" wx:if="{{isNicknameEditModalShow}}">
    <!-- ... 弹窗内容 ... -->
  </view>

  <!-- 简介编辑弹窗 -->
  <view class="modal" wx:if="{{isIntroEditModalShow}}">
    <!-- ... 弹窗内容 ... -->
  </view>

  <!-- 手机绑定弹窗 -->
  <view class="modal" wx:if="{{isBindPhoneModalShow}}">
    <!-- ... 弹窗内容 ... -->
  </view>
</view>
